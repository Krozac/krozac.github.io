{"version":3,"file":"static/js/712.86aa5469.chunk.js","mappings":"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","sources":["simulations/boids/boid.js","simulations/boids/simulation.js"],"sourcesContent":["// Global parameters for boid behaviors\r\nexport const boidParams = {\r\n    separationFactor: 0.05,\r\n    alignmentFactor: 0.05,\r\n    centeringFactor: 0.0005,\r\n};\r\n// src/Boid.ts\r\nexport class Boid {\r\n    constructor(x, y) {\r\n        this.position = { x, y };\r\n        this.velocity = { x: Math.random() * 2 - 1, y: Math.random() * 2 - 1 };\r\n        this.acceleration = { x: 0, y: 0 };\r\n        this.trail = [];\r\n        this.maxTrailLength = 50; // Longueur maximale du tracé\r\n        this.turnfactor = 0.2;\r\n        this.visualRange = 40;\r\n        this.protectedRange = 8;\r\n        this.maxspeed = 6;\r\n        this.minspeed = 3;\r\n    }\r\n    update(canvasWidth, canvasHeight) {\r\n        this.velocity.x += this.acceleration.x;\r\n        this.velocity.y += this.acceleration.y;\r\n        const speed = Math.sqrt(Math.pow(this.velocity.x, 2) + Math.pow(this.velocity.y, 2));\r\n        if (speed > this.maxspeed) {\r\n            this.velocity.x = (this.velocity.x / speed) * this.maxspeed;\r\n            this.velocity.y = (this.velocity.y / speed) * this.maxspeed;\r\n        }\r\n        if (speed < this.minspeed) {\r\n            this.velocity.x = (this.velocity.x / speed) * this.minspeed;\r\n            this.velocity.y = (this.velocity.y / speed) * this.minspeed;\r\n        }\r\n        this.position.x += this.velocity.x;\r\n        this.position.y += this.velocity.y;\r\n        if (this.position.x < 50)\r\n            this.velocity.x += this.turnfactor;\r\n        if (this.position.x > canvasWidth - 50)\r\n            this.velocity.x -= this.turnfactor;\r\n        if (this.position.y < 50)\r\n            this.velocity.y += this.turnfactor;\r\n        if (this.position.y > canvasHeight - 50)\r\n            this.velocity.y -= this.turnfactor;\r\n        this.acceleration.x = 0;\r\n        this.acceleration.y = 0;\r\n        // Mise à jour de la trajectoire\r\n        this.trail.push({ x: this.position.x, y: this.position.y });\r\n        if (this.trail.length > this.maxTrailLength) {\r\n            this.trail.shift(); // Supprimer les anciennes positions\r\n        }\r\n    }\r\n    applyForce(force) {\r\n        this.acceleration.x += force.x;\r\n        this.acceleration.y += force.y;\r\n    }\r\n    draw(ctx) {\r\n        ctx.beginPath();\r\n        ctx.arc(this.position.x, this.position.y, 5, 0, Math.PI * 2);\r\n        ctx.fill();\r\n    }\r\n    flock(boids) {\r\n        this.alignment(boids);\r\n        this.cohesion(boids);\r\n        this.separation(boids);\r\n    }\r\n    separation(boids) {\r\n        let close = { dx: 0, dy: 0 };\r\n        for (const other of boids) {\r\n            const distance = Math.sqrt(Math.pow((this.position.x - other.position.x), 2) + Math.pow((this.position.y - other.position.y), 2));\r\n            if (distance < this.protectedRange && distance > 0) {\r\n                close.dx += this.position.x - other.position.x;\r\n                close.dy += this.position.y - other.position.y;\r\n            }\r\n        }\r\n        this.velocity.x += close.dx * boidParams.separationFactor;\r\n        this.velocity.y += close.dy * boidParams.separationFactor;\r\n    }\r\n    alignment(boids) {\r\n        let xvel_avg = 0;\r\n        let yvel_avg = 0;\r\n        let neighboring_boids = 0;\r\n        for (const other of boids) {\r\n            const distance = Math.sqrt(Math.pow((this.position.x - other.position.x), 2) + Math.pow((this.position.y - other.position.y), 2));\r\n            if (distance < this.visualRange && distance > 0) {\r\n                xvel_avg += other.velocity.x;\r\n                yvel_avg += other.velocity.y;\r\n                neighboring_boids++;\r\n            }\r\n        }\r\n        if (neighboring_boids > 0) {\r\n            xvel_avg /= neighboring_boids;\r\n            yvel_avg /= neighboring_boids;\r\n        }\r\n        this.velocity.x += (xvel_avg - this.velocity.x) * boidParams.alignmentFactor;\r\n        this.velocity.y += (yvel_avg - this.velocity.y) * boidParams.alignmentFactor;\r\n    }\r\n    cohesion(boids) {\r\n        let xpos_avg = 0;\r\n        let ypos_avg = 0;\r\n        let neighboring_boids = 0;\r\n        for (const other of boids) {\r\n            const distance = Math.sqrt(Math.pow((this.position.x - other.position.x), 2) + Math.pow((this.position.y - other.position.y), 2));\r\n            if (distance < this.visualRange && distance > 0) {\r\n                xpos_avg += other.position.x;\r\n                ypos_avg += other.position.y;\r\n                neighboring_boids++;\r\n            }\r\n        }\r\n        if (neighboring_boids > 0) {\r\n            xpos_avg /= neighboring_boids;\r\n            ypos_avg /= neighboring_boids;\r\n        }\r\n        this.velocity.x += (xpos_avg - this.position.x) * boidParams.centeringFactor;\r\n        this.velocity.y += (ypos_avg - this.position.y) * boidParams.centeringFactor;\r\n    }\r\n}\r\n","import { Boid } from './boid.js';\r\nlet tracingEnabled = false; // Activer ou désactiver le traçage\r\nexport function startSimulation(ctx) {\r\n    const canvas = ctx.canvas;\r\n    const boids = [];\r\n    for (let i = 0; i < 500; i++) {\r\n        boids.push(new Boid(Math.random() * canvas.width, Math.random() * canvas.height));\r\n    }\r\n    function drawTrail(boid) {\r\n        if (!tracingEnabled)\r\n            return;\r\n        ctx.beginPath();\r\n        for (let i = 0; i < boid.trail.length - 1; i++) {\r\n            const start = boid.trail[i];\r\n            const end = boid.trail[i + 1];\r\n            ctx.moveTo(start.x, start.y);\r\n            ctx.lineTo(end.x, end.y);\r\n        }\r\n        ctx.strokeStyle = 'rgba(255, 255, 255, 0.2)';\r\n        ctx.lineWidth = 1;\r\n        ctx.stroke();\r\n    }\r\n    function drawBoid(boid) {\r\n        const size = 10;\r\n        const angle = Math.atan2(boid.velocity.y, boid.velocity.x);\r\n        ctx.save();\r\n        ctx.translate(boid.position.x, boid.position.y);\r\n        ctx.rotate(angle);\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, -size / 2);\r\n        ctx.lineTo(-size / 2, size / 2);\r\n        ctx.lineTo(size, size / 2);\r\n        ctx.closePath();\r\n        ctx.fillStyle = 'rgba(255,255,255, 0.5)';\r\n        ctx.fill();\r\n        ctx.restore();\r\n    }\r\n    function simulate() {\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        for (const boid of boids) {\r\n            boid.flock(boids);\r\n            boid.update(canvas.width, canvas.height);\r\n            drawTrail(boid); // Dessiner la trajectoire\r\n            drawBoid(boid);\r\n        }\r\n        requestAnimationFrame(simulate);\r\n    }\r\n    simulate();\r\n}\r\nexport function addTracingToggle() {\r\n    const toggleButton = document.createElement('button');\r\n    toggleButton.textContent = 'Toggle Tracing';\r\n    toggleButton.style.position = 'absolute';\r\n    toggleButton.style.top = '10px';\r\n    toggleButton.style.right = '10px';\r\n    toggleButton.style.zIndex = '10';\r\n    toggleButton.addEventListener('click', () => {\r\n        tracingEnabled = !tracingEnabled;\r\n    });\r\n    document.body.appendChild(toggleButton);\r\n}\r\n"],"names":["boidParams","separationFactor","alignmentFactor","centeringFactor","Boid","constructor","x","y","this","position","velocity","Math","random","acceleration","trail","maxTrailLength","turnfactor","visualRange","protectedRange","maxspeed","minspeed","update","canvasWidth","canvasHeight","speed","sqrt","pow","push","length","shift","applyForce","force","draw","ctx","beginPath","arc","PI","fill","flock","boids","alignment","cohesion","separation","close","dx","dy","other","distance","xvel_avg","yvel_avg","neighboring_boids","xpos_avg","ypos_avg","tracingEnabled","startSimulation","canvas","i","width","height","drawTrail","boid","start","end","moveTo","lineTo","strokeStyle","lineWidth","stroke","drawBoid","angle","atan2","save","translate","rotate","size","closePath","fillStyle","restore","simulate","clearRect","requestAnimationFrame","addTracingToggle","toggleButton","document","createElement","textContent","style","top","right","zIndex","addEventListener","body","appendChild"],"sourceRoot":""}