{"version":3,"file":"static/js/725.2d3a92da.chunk.js","mappings":"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","sources":["simulations/boids/boid.js"],"sourcesContent":["// Global parameters for boid behaviors\r\nexport const boidParams = {\r\n    separationFactor: 0.05,\r\n    alignmentFactor: 0.05,\r\n    centeringFactor: 0.0005,\r\n};\r\n// src/Boid.ts\r\nexport class Boid {\r\n    constructor(x, y) {\r\n        this.position = { x, y };\r\n        this.velocity = { x: Math.random() * 2 - 1, y: Math.random() * 2 - 1 };\r\n        this.acceleration = { x: 0, y: 0 };\r\n        this.trail = [];\r\n        this.maxTrailLength = 50; // Longueur maximale du tracé\r\n        this.turnfactor = 0.2;\r\n        this.visualRange = 40;\r\n        this.protectedRange = 8;\r\n        this.maxspeed = 6;\r\n        this.minspeed = 3;\r\n    }\r\n    update(canvasWidth, canvasHeight) {\r\n        this.velocity.x += this.acceleration.x;\r\n        this.velocity.y += this.acceleration.y;\r\n        const speed = Math.sqrt(Math.pow(this.velocity.x, 2) + Math.pow(this.velocity.y, 2));\r\n        if (speed > this.maxspeed) {\r\n            this.velocity.x = (this.velocity.x / speed) * this.maxspeed;\r\n            this.velocity.y = (this.velocity.y / speed) * this.maxspeed;\r\n        }\r\n        if (speed < this.minspeed) {\r\n            this.velocity.x = (this.velocity.x / speed) * this.minspeed;\r\n            this.velocity.y = (this.velocity.y / speed) * this.minspeed;\r\n        }\r\n        this.position.x += this.velocity.x;\r\n        this.position.y += this.velocity.y;\r\n        if (this.position.x < 50)\r\n            this.velocity.x += this.turnfactor;\r\n        if (this.position.x > canvasWidth - 50)\r\n            this.velocity.x -= this.turnfactor;\r\n        if (this.position.y < 50)\r\n            this.velocity.y += this.turnfactor;\r\n        if (this.position.y > canvasHeight - 50)\r\n            this.velocity.y -= this.turnfactor;\r\n        this.acceleration.x = 0;\r\n        this.acceleration.y = 0;\r\n        // Mise à jour de la trajectoire\r\n        this.trail.push({ x: this.position.x, y: this.position.y });\r\n        if (this.trail.length > this.maxTrailLength) {\r\n            this.trail.shift(); // Supprimer les anciennes positions\r\n        }\r\n    }\r\n    applyForce(force) {\r\n        this.acceleration.x += force.x;\r\n        this.acceleration.y += force.y;\r\n    }\r\n    draw(ctx) {\r\n        ctx.beginPath();\r\n        ctx.arc(this.position.x, this.position.y, 5, 0, Math.PI * 2);\r\n        ctx.fill();\r\n    }\r\n    flock(boids) {\r\n        this.alignment(boids);\r\n        this.cohesion(boids);\r\n        this.separation(boids);\r\n    }\r\n    separation(boids) {\r\n        let close = { dx: 0, dy: 0 };\r\n        for (const other of boids) {\r\n            const distance = Math.sqrt(Math.pow((this.position.x - other.position.x), 2) + Math.pow((this.position.y - other.position.y), 2));\r\n            if (distance < this.protectedRange && distance > 0) {\r\n                close.dx += this.position.x - other.position.x;\r\n                close.dy += this.position.y - other.position.y;\r\n            }\r\n        }\r\n        this.velocity.x += close.dx * boidParams.separationFactor;\r\n        this.velocity.y += close.dy * boidParams.separationFactor;\r\n    }\r\n    alignment(boids) {\r\n        let xvel_avg = 0;\r\n        let yvel_avg = 0;\r\n        let neighboring_boids = 0;\r\n        for (const other of boids) {\r\n            const distance = Math.sqrt(Math.pow((this.position.x - other.position.x), 2) + Math.pow((this.position.y - other.position.y), 2));\r\n            if (distance < this.visualRange && distance > 0) {\r\n                xvel_avg += other.velocity.x;\r\n                yvel_avg += other.velocity.y;\r\n                neighboring_boids++;\r\n            }\r\n        }\r\n        if (neighboring_boids > 0) {\r\n            xvel_avg /= neighboring_boids;\r\n            yvel_avg /= neighboring_boids;\r\n        }\r\n        this.velocity.x += (xvel_avg - this.velocity.x) * boidParams.alignmentFactor;\r\n        this.velocity.y += (yvel_avg - this.velocity.y) * boidParams.alignmentFactor;\r\n    }\r\n    cohesion(boids) {\r\n        let xpos_avg = 0;\r\n        let ypos_avg = 0;\r\n        let neighboring_boids = 0;\r\n        for (const other of boids) {\r\n            const distance = Math.sqrt(Math.pow((this.position.x - other.position.x), 2) + Math.pow((this.position.y - other.position.y), 2));\r\n            if (distance < this.visualRange && distance > 0) {\r\n                xpos_avg += other.position.x;\r\n                ypos_avg += other.position.y;\r\n                neighboring_boids++;\r\n            }\r\n        }\r\n        if (neighboring_boids > 0) {\r\n            xpos_avg /= neighboring_boids;\r\n            ypos_avg /= neighboring_boids;\r\n        }\r\n        this.velocity.x += (xpos_avg - this.position.x) * boidParams.centeringFactor;\r\n        this.velocity.y += (ypos_avg - this.position.y) * boidParams.centeringFactor;\r\n    }\r\n}\r\n"],"names":["boidParams","separationFactor","alignmentFactor","centeringFactor","Boid","constructor","x","y","this","position","velocity","Math","random","acceleration","trail","maxTrailLength","turnfactor","visualRange","protectedRange","maxspeed","minspeed","update","canvasWidth","canvasHeight","speed","sqrt","pow","push","length","shift","applyForce","force","draw","ctx","beginPath","arc","PI","fill","flock","boids","alignment","cohesion","separation","close","dx","dy","other","distance","xvel_avg","yvel_avg","neighboring_boids","xpos_avg","ypos_avg"],"sourceRoot":""}