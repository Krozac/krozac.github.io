{"version":3,"file":"static/js/436.47791b36.chunk.js","mappings":"mJAAO,MAAMA,EACTC,WAAAA,CAAYC,GACRC,KAAKD,QAAUA,CACnB,CACAE,MAAAA,CAAOC,GACH,MAAMC,EAAWD,EAAcE,cAC/BJ,KAAKD,QAAQM,UAAU,EAAG,EAAGL,KAAKD,QAAQO,OAAOC,MAAOP,KAAKD,QAAQO,OAAOE,QAC5EL,EAASM,SAAQ,CAACC,EAAYC,KAC1B,MAAMC,EAAWF,EAAWG,IAAI,YAC1BC,EAAOJ,EAAWG,IAAI,QACtBE,EAAWL,EAAWG,IAAI,YAChC,GAAID,GAAYE,GAAQC,EAAU,CAG9B,GAFAf,KAAKD,QAAQiB,UAAYF,EAAKG,MAC9BjB,KAAKD,QAAQmB,YACM,WAAfJ,EAAKK,MACLnB,KAAKD,QAAQqB,IAAIR,EAASS,EAAGT,EAASU,EAAGR,EAAKS,KAAM,EAAa,EAAVC,KAAKC,SAE3D,GAAmB,WAAfX,EAAKK,MACVnB,KAAKD,QAAQ2B,KAAKd,EAASS,EAAIP,EAAKS,KAAO,EAAGX,EAASU,EAAIR,EAAKS,KAAO,EAAGT,EAAKS,KAAMT,EAAKS,WAEzF,GAAmB,aAAfT,EAAKK,MAAsB,CAChC,MAAMQ,EAAQH,KAAKI,MAAMb,EAASO,EAAGP,EAASM,GAC9CrB,KAAKD,QAAQ8B,OACb7B,KAAKD,QAAQ+B,UAAUlB,EAASS,EAAGT,EAASU,GAC5CtB,KAAKD,QAAQgC,OAAOJ,GACpB3B,KAAKD,QAAQmB,YACblB,KAAKD,QAAQiC,OAAO,GAAIlB,EAAKS,MAC7BvB,KAAKD,QAAQkC,QAAQnB,EAAKS,KAAMT,EAAKS,MACrCvB,KAAKD,QAAQkC,OAAmB,EAAZnB,EAAKS,KAAUT,EAAKS,MACxCvB,KAAKD,QAAQmC,YACblC,KAAKD,QAAQoC,SACjB,CACAnC,KAAKD,QAAQqC,MACjB,IAER,E","sources":["simulations/boids/systems/sys_draw.js"],"sourcesContent":["export class DrawSystem {\r\n    constructor(context) {\r\n        this.context = context;\r\n    }\r\n    update(entityManager) {\r\n        const entities = entityManager.getEntities();\r\n        this.context.clearRect(0, 0, this.context.canvas.width, this.context.canvas.height);\r\n        entities.forEach((components, entityId) => {\r\n            const position = components.get('Position');\r\n            const draw = components.get('Draw');\r\n            const velocity = components.get('Velocity');\r\n            if (position && draw && velocity) {\r\n                this.context.fillStyle = draw.color;\r\n                this.context.beginPath();\r\n                if (draw.shape === 'circle') {\r\n                    this.context.arc(position.x, position.y, draw.size, 0, Math.PI * 2);\r\n                }\r\n                else if (draw.shape === 'square') {\r\n                    this.context.rect(position.x - draw.size / 2, position.y - draw.size / 2, draw.size, draw.size);\r\n                }\r\n                else if (draw.shape === 'triangle') {\r\n                    const angle = Math.atan2(velocity.y, velocity.x);\r\n                    this.context.save();\r\n                    this.context.translate(position.x, position.y);\r\n                    this.context.rotate(angle);\r\n                    this.context.beginPath();\r\n                    this.context.moveTo(0, -draw.size);\r\n                    this.context.lineTo(-draw.size, draw.size);\r\n                    this.context.lineTo(draw.size * 2, draw.size);\r\n                    this.context.closePath();\r\n                    this.context.restore();\r\n                }\r\n                this.context.fill();\r\n            }\r\n        });\r\n    }\r\n}\r\n"],"names":["DrawSystem","constructor","context","this","update","entityManager","entities","getEntities","clearRect","canvas","width","height","forEach","components","entityId","position","get","draw","velocity","fillStyle","color","beginPath","shape","arc","x","y","size","Math","PI","rect","angle","atan2","save","translate","rotate","moveTo","lineTo","closePath","restore","fill"],"sourceRoot":""}